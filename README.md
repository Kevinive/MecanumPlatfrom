# MecanumPlatfrom

## 0.前言 ##

装备有麦克纳姆轮的小车平台拥有出色的行动能力，非常适合在狭小的空间中进行精确移动。

- 设计目标

	此次设计是针对具有驱动器的四轮麦克纳姆轮底盘，目标是将移动平台的硬件层进一步抽象，方便上层应用调用。

- 软件架构

	![](http://139.199.211.128:8088/Projects/MecanumPlatform/softwareFrame.png)
	[1]逆运动学解算 [2]正运动学解算

	

- 硬件架构

## 1.软件设计 ##

- 功能要求

	- 通过串口与上位机通信，获取指令，同时上传小车底盘的运动参数
	- 通过CAN总线与电机驱动器通信，下发每个轮子的速度指令，同时收集每个轮子的运行参数
	- 进行麦克纳姆轮底盘的正运动学求解与逆运动学求解

### 1.1运动求解 ###

运动求解的相关资料都已经比较成熟，下面仅对如何运用理论进行实际求解的方法做简要说明

## 2.硬件设计 ##

### MCU ###

MCU所需功能：USART x 4、CAN总线控制器 x 1、ADC x 2

MCU选型：STM32F103RET6 (64pin) 在符合硬件需求的情况下尽可能的小

### CAN驱动器 ###

使用了TJA1040芯片作为CAN总线驱动器，设计上包含了120R电阻

### 串口 ###

提供了两种串口连接方式：

- 1 MicroUSB

	此连接方式具有**下载程序**的功能，使用CH340G作为USB转串口芯片，硬件上连接至MCU的**USART1串口**。

- 2	传统9针串口线

	此为传统串口的连接方式，使用SP3232作为电平转换芯片，硬件上连接至MCU的**USART2串口**

### 电压电流检测 ###

*（敬请期待）*

### WIFI（预留） ###

预留了ESP8266串口WIFI的接口，硬件上连接至MCU的**UART4串口**

### 蓝牙（预留） ###

预留了蓝牙串口的接口，硬件上连接至**UART5串口**

